<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–ö–æ–Ω–≤–µ—Ä—Ç</title>

<style>
:root{
  --bg1:#0b1220;
  --bg2:#111a2e;
  --paper:#f8f2e8;
  --env:#f0b35a;
  --env2:#e79f3c;
  --env3:#d88a2c;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, sans-serif;
  background: radial-gradient(1200px 700px at 50% 30%, #1a2b55 0%, var(--bg2) 45%, var(--bg1) 100%);
  display:grid;
  place-items:center;
  color:white;
}

.wrap{
  text-align:center;
}

.stage{
  position:relative;
  margin-top:30px;
}

.envelope{
  position:relative;
  width:380px;
  height:240px;
  perspective:1200px;
  margin:auto;
}

.env-body{
  position:absolute;
  inset:0;
  background:linear-gradient(180deg,var(--env),var(--env2));
  border-radius:18px;
  z-index:1;
}

.env-flap{
  position:absolute;
  top:0;
  left:0;
  right:0;
  height:140px;
  background:linear-gradient(180deg,#ffd08b,#f0b35a);
  clip-path: polygon(0 0,50% 100%,100% 0);
  transform-origin:top;
  transition:transform .6s cubic-bezier(.2,.9,.2,1);
  z-index:4;
}

.seal{
  position:absolute;
  left:50%;
  top:55%;
  transform:translate(-50%,-50%);
  width:70px;
  height:70px;
  border-radius:50%;
  background:radial-gradient(circle at 30% 30%, #ff6a6a, #d51f2a);
  display:grid;
  place-items:center;
  font-weight:bold;
  cursor:pointer;
  z-index:5;
  border:none;
  color:white;
}

.letter{
  position:absolute;
  left:8%;
  right:8%;
  bottom:10%;
  height:80%;
  background:white;
  border-radius:14px;
  box-shadow:0 15px 40px rgba(0,0,0,.3);
  transform:translateY(30%);
  opacity:0;
  transition:all .6s cubic-bezier(.2,.9,.2,1);
  z-index:2;
  padding:25px;
  color:#111;
}

.open .env-flap{
  transform:rotateX(-170deg);
}

.open .letter{
  transform:translateY(-60%);
  opacity:1;
}

/* fullscreen –ø–∏—Å—å–º–æ */
.letter-full .letter{
  position:fixed;
  left:50%;
  top:50%;
  width:min(700px,92vw);
  height:min(600px,85vh);
  transform:translate(-50%,-50%);
  z-index:9999;
}

.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  /* backdrop-filter:blur(6px); */
  z-index:9998;
  display:none;
}

.overlay.show{
  display:block;
}

.close{
  position:absolute;
  top:12px;
  right:15px;
  font-size:20px;
  border:none;
  background:none;
  cursor:pointer;
}

</style>
</head>

<body>

<div class="wrap">
  <h2>–ù–∞–∂–º–∏ –Ω–∞ OPEN</h2>

  <div class="stage">
    <div class="envelope" id="envelope">

      <div class="env-body"></div>
      <div class="env-flap"></div>

      <button class="seal" id="seal">OPEN</button>

      <div class="letter">
        <button class="close" id="close">‚úï</button>
        <h3>–ü—Ä–∏–≤–µ—Ç üëã</h3>
        <p>
          –¢–µ–ø–µ—Ä—å –ø–∏—Å—å–º–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–≤–µ—Ä—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
          –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É, –∫–Ω–æ–ø–∫—É Telegram,
          –æ–ø–ª–∞—Ç—É, —Ñ–æ—Ç–æ –∏–ª–∏ –ª—é–±–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç.
        </p>
      </div>

    </div>
  </div>
</div>

<div class="overlay" id="overlay"></div>

<script>
const envelope = document.getElementById('envelope');
const seal = document.getElementById('seal');
const closeBtn = document.getElementById('close');
const overlay = document.getElementById('overlay');

function openEnvelope(){
  envelope.classList.add('open');
  setTimeout(()=>{
    envelope.classList.add('letter-full');
    overlay.classList.add('show');
  },300);
}

function closeEnvelope(){
  envelope.classList.remove('letter-full');
  overlay.classList.remove('show');
  setTimeout(()=>{
    envelope.classList.remove('open');
  },200);
}

seal.addEventListener('click', openEnvelope);
closeBtn.addEventListener('click', closeEnvelope);
overlay.addEventListener('click', closeEnvelope);

document.addEventListener('keydown', e=>{
  if(e.key === 'Escape') closeEnvelope();
});
</script>

</body>
</html>
